"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[866],{50997:function(e,n){n.Z={src:"/_next/static/media/logo.567f119a.png",height:93,width:357,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAACCAYAAABllJ3tAAAASUlEQVR4nGN8ragazsDI/InlzweW93ya7Otlba38nxw/Jv5295dfbPLfQAosGRiB4P8/gb9M7M8+cksHMv/7e+4fI/Pfr+y8DwFtbxvx5ypr1QAAAABJRU5ErkJggg=="}},80173:function(e,n,t){var r=t(85893),i=(t(67294),t(9008));n.Z=function(e){var n=e.page;return(0,r.jsx)(i.default,{children:(0,r.jsxs)("title",{children:[n," | PINPOINT"]})})}},44114:function(e,n,t){t.d(n,{Z:function(){return M}});var r=t(85893),i=t(67294),a=t(2664),s=t(76521),c=t(86738),l=t(71577),o=t(71230),u=t(58638),d=t(3253),h=t(88360),f=t(11163),m=t(25675),g=t(41664),x={src:"/_next/static/media/logo.da7b19be.png",height:110,width:421,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAACCAYAAABllJ3tAAAATElEQVR4nGN8o6ga/p+R+RPLn48s7/k02DfI2lj6PTlxXPzt7s+/2eS/Mb5WVLVkYASC//8F/jKxPfvILR3I/O/vuX9MzH+/sPE9BACqeBzxIqvTJAAAAABJRU5ErkJggg=="},A={src:"/_next/static/media/user-mail.7f687539.png",height:63,width:93,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAFCAQAAADSmGXeAAAAUUlEQVR42g3IsQ2AIBQGYWbSREe6fxSJTOAasgCdCT00FlA5xvPlkq+4wMqtj6bmZpbAqcKDydyiIyhhRC4vyhQDiUrn9TrVBztZU4OhSdb2A1UmLFEzS6nOAAAAAElFTkSuQmCC"},p={src:"/_next/static/media/l.8455458c.png",height:50,width:50,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAQAAABuBnYAAAAAYElEQVR42jWMuw2AMBQDvU6yFh3nMViECSjp+MwDE5Di8RSBLF1xtixE9U5kNhckim/CK2vydhGHIzMw9NUpHrcUIyPhxvOLiekTPgnCM3MyOOTaTxeW5OUiRGXr7U5FLx4pSEKFIZn1AAAAAElFTkSuQmCC"},v=t(24620),j=(t(65369),t(51964)),b=t.n(j);function y(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var N=(0,a.$j)((function(e){return function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){y(e,n,t[n])}))}return e}({},e.Layout,{token:e.user.token,user_id:e.user.user_id})}),(function(e){return{onLogout:function(n){return e((0,v.kS)(n))}}}))((function(e){var n=e.visible,t=e.onLogout,a=e.user_id,v=(0,f.useRouter)(),j=(0,i.useState)(null),y=j[0],N=j[1];(0,i.useEffect)((function(){N(sessionStorage.getItem("token"))}),[]);var w=function(e){v.push(e)},k=function(e){v.push(e)};return console.log(y),(0,r.jsx)("div",{className:n?"right-sidebar show":"right-sidebar",role:"document",id:"right-sidebar",children:(0,r.jsxs)(b(),{children:[(0,r.jsx)("div",{className:"logo-image",children:(0,r.jsx)(m.default,{src:x,width:280,height:80})}),(0,r.jsxs)("div",{className:"avatar-panel",children:[(0,r.jsxs)("div",{className:"avatar-left",children:[y&&(0,r.jsx)("div",{style:{marginBottom:20},children:(0,r.jsx)(g.default,{href:"/mail/inbox",children:(0,r.jsx)(s.Z,{dot:!0,className:"mailboxLIcon",children:(0,r.jsx)(m.default,{src:A,alt:"mail",width:60,height:40})})})}),y&&(0,r.jsx)("div",{children:(0,r.jsx)(s.Z,{dot:!0,className:"mailboxIcon",children:(0,r.jsx)(m.default,{src:p,alt:"l",width:40,height:40})})})]}),(0,r.jsx)("div",{className:"avatar-center",children:(0,r.jsx)("div",{className:"rightsidebar-avatar",children:(0,r.jsxs)("span",{children:["User Profile",(0,r.jsx)("br",{}),"Picture"]})})}),(0,r.jsx)("div",{className:"avatar-right",children:y&&(0,r.jsx)(u.Z,{style:{color:"#686868",fontSize:40},onClick:function(){t((function(e){N(null),v.push("/home")}))}})})]}),y?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{onClick:function(){return k("/user/".concat(a,"/activity"))},className:"vst-profile",children:"View Profile"}),(0,r.jsx)("div",{onClick:function(){return k("/user/".concat(a,"/edit"))},className:"vst-edit-profile",children:"edit profile"})]}):(0,r.jsxs)("div",{className:"login-btn-panel",children:[(0,r.jsx)("div",{className:"login-btn",children:(0,r.jsx)(c.Z,{style:{position:"fixed"},title:"WHO AM I?",description:"Who are you?",okText:"User",cancelText:"Partner",onCancel:function(){return w("/authentication/partner/login")},onConfirm:function(){return w("/authentication/user/login")},children:(0,r.jsx)("a",{href:"#",children:(0,r.jsx)(l.Z,{shape:"round",style:{width:100},icon:(0,r.jsx)(d.Z,{}),children:"Login"})})})}),(0,r.jsx)("div",{className:"signup-btn",children:(0,r.jsx)(c.Z,{title:"WHO AM I?",description:"Who are you?",okText:"User",cancelText:"Partner",onCancel:function(){return w("/authentication/partner/register")},onConfirm:function(){return w("/authentication/user/register")},children:(0,r.jsx)("a",{href:"#",children:(0,r.jsx)(l.Z,{shape:"round",style:{width:100},icon:(0,r.jsx)(h.Z,{}),children:"Sign Up"})})})})]}),(0,r.jsx)(o.Z,{className:"sidebar-menu-item",onClick:function(){return k("/home")},children:"Home"}),(0,r.jsx)(o.Z,{className:"sidebar-menu-item",onClick:function(){return e="/user/map/interactive-map",void(y?v.push(e):notify("error","Please login"));var e},children:"Interactive Map"}),(0,r.jsx)(o.Z,{className:"sidebar-menu-item",onClick:function(){return k("/home/#pinpoint_location")},children:"Locations"}),(0,r.jsx)(o.Z,{className:"sidebar-menu-item",onClick:function(){return k("/home/#pinpoint_contactus")},children:"Contact Us"}),(0,r.jsx)(o.Z,{className:"sidebar-menu-item",onClick:function(){return k("/faq")},children:"FAQ"})]})})}));function w(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function k(e,n){if(null==e)return{};var t,r,i=function(e,n){if(null==e)return{};var t,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}var O=(0,f.withRouter)((function(e){var n=e.router,t=e.children,a=k(e,["router","children"]),s=i.Children.only(t),c=s.props.className||"";return n.pathname===a.href&&a.activeClassName&&(c="".concat(c," ").concat(a.activeClassName).trim()),delete a.activeClassName,(0,r.jsx)(g.default,function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){w(e,n,t[n])}))}return e}({},a,{children:i.cloneElement(s,{className:c})}))})),E=t(50997),S={src:"/_next/static/media/right-toggle.468f6f88.png",height:113,width:115,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAIAAABLbSncAAAA00lEQVR42mM4c/H29EW7563YN3n+jknzdsxZvnfmkt237jxkmLVsHwNDM4NN9/zVh1dvO8Xg3s/A0LRtz3GGJesOM8i2zl5+YP+J65v3Xli28TiDetueg6cZFgMlGJqAyh8/f3vh+kOQJsHmPQdOMyxac4jBpNMxdfa7D19+/f4TW76YQad994FTDIvWHmJw62MImLR+55ndhy8zBE9h8Ozfvf8Uw2yQ5Y06sTNsM+dZps21SpkN5IIsv3z9/tK1+1duOLhi/QEQueHgsnX7795/DAC7Dm+Ic9KGYgAAAABJRU5ErkJggg=="};function C(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=[],r=!0,i=!1,a=void 0;try{for(var s,c=e[Symbol.iterator]();!(r=(s=c.next()).done)&&(t.push(s.value),!n||t.length!==n);r=!0);}catch(l){i=!0,a=l}finally{try{r||null==c.return||c.return()}finally{if(i)throw a}}return t}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var I=function(e){var n=e.toggle,t=C(i.useState(!0),2),a=t[0],s=t[1];i.useEffect((function(){var e=document.getElementById("navbar");document.addEventListener("scroll",(function(){window.scrollY>170?e.classList.add("is-sticky"):e.classList.remove("is-sticky")}))}));var c=a?"navbar-toggler navbar-toggler-right collapsed":"navbar-toggler navbar-toggler-right";return(0,r.jsx)("div",{id:"navbar",className:"navbar-area",children:(0,r.jsx)("div",{className:"main-nav",children:(0,r.jsx)("div",{className:"container",children:(0,r.jsxs)("nav",{className:"navbar navbar-expand-lg navbar-light bg-light",children:[(0,r.jsx)("div",{className:"col-md-4"}),(0,r.jsx)("div",{className:"col-md-4 text-center",children:(0,r.jsx)(O,{href:"/",children:(0,r.jsx)("a",{className:"navbar-brand",children:(0,r.jsx)(m.default,{src:E.Z,alt:"site logo"})})})}),(0,r.jsxs)("div",{className:"col-md-4 text-right",children:[(0,r.jsx)("div",{className:"others-option",children:(0,r.jsx)("a",{onClick:n,children:(0,r.jsx)(m.default,{src:S,width:80,height:80,alt:"site logo"})})}),(0,r.jsxs)("button",{onClick:function(){s(!a)},className:c,type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation",children:[(0,r.jsx)("span",{className:"icon-bar top-bar"}),(0,r.jsx)("span",{className:"icon-bar middle-bar"}),(0,r.jsx)("span",{className:"icon-bar bottom-bar"})]})]})]})})})})},P=function(){(new Date).getFullYear();return(0,r.jsx)("div",{className:"template-footer-nine",children:(0,r.jsxs)("div",{className:"container plr-100",children:[(0,r.jsxs)("div",{className:"row",children:[(0,r.jsx)("div",{className:"col-lg-2 col-md-6 col-sm-5"}),(0,r.jsx)("div",{className:"col-lg-8 col-md-6 col-sm-5",children:(0,r.jsx)("div",{className:"single-footer-widget",children:(0,r.jsx)(g.default,{href:"/",children:(0,r.jsx)("a",{className:"logo",children:(0,r.jsx)(m.default,{src:E.Z,width:500,height:150,alt:"logo"})})})})}),(0,r.jsx)("div",{className:"col-lg-2 col-md-6 col-sm-5"})]}),(0,r.jsxs)("div",{className:"row",children:[(0,r.jsx)("div",{className:"col-lg-4 col-md-6 col-sm-5",children:(0,r.jsxs)("div",{className:"single-footer-widget",children:[(0,r.jsx)("p",{children:"Stay up to date with Pinpoint!"}),(0,r.jsx)("div",{className:"widget-area",children:(0,r.jsx)("div",{className:"widget widget_search",children:(0,r.jsxs)("form",{className:"search-form",children:[(0,r.jsx)("input",{type:"search",className:"search-field",placeholder:"Enter your email"}),(0,r.jsx)("button",{type:"submit",children:(0,r.jsx)("i",{className:"bx bx-send"})})]})})})]})}),(0,r.jsx)("div",{className:"col-lg-4 col-md-6 col-sm-5",children:(0,r.jsxs)("div",{className:"single-footer-widget",children:[(0,r.jsx)("p",{children:"Stay social with us..."}),(0,r.jsxs)("ul",{className:"social-links",children:[(0,r.jsx)("li",{children:(0,r.jsx)("a",{href:"https://www.instagram.com/",target:"_blank",rel:"noreferrer",children:(0,r.jsx)("i",{className:"flaticon-instagram"})})}),(0,r.jsx)("li",{children:(0,r.jsx)("a",{href:"https://www.linkedin.com/",target:"_blank",rel:"noreferrer",children:(0,r.jsx)("i",{className:"flaticon-snapchat"})})}),(0,r.jsx)("li",{children:(0,r.jsx)("a",{href:"https://www.twitter.com/",target:"_blank",rel:"noreferrer",children:(0,r.jsx)("i",{className:"flaticon-twitter"})})}),(0,r.jsx)("li",{children:(0,r.jsx)("a",{href:"https://www.facebook.com/",target:"_blank",rel:"noreferrer",children:(0,r.jsx)("i",{className:"flaticon-facebook-app-symbol"})})})]})]})}),(0,r.jsx)("div",{className:"col-lg-4 col-md-6 col-sm-8",children:(0,r.jsx)("div",{className:"single-footer-widget",children:(0,r.jsxs)("button",{type:"submit",className:"btn-style-one red-light-color view-map-button",children:["View Map",(0,r.jsx)("i",{className:"bx bx-chevron-right"})]})})})]})]})})},U=(0,a.$j)((function(e){return{auth:e.user.token}}),null)((function(e){var n=e.children,t=(0,f.useRouter)(),a=(0,i.useState)(!1),s=a[0],c=a[1],l=function(e){var n=document.getElementById("right-sidebar");n&&n.contains(e.target)||c(!1)};return(0,i.useEffect)((function(){c(!1),document.getElementById("__next").addEventListener("click",l,!0)}),[t.pathname]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(I,{toggle:function(){c(!s)}}),(0,r.jsx)(N,{visible:s}),n,(0,r.jsx)(P,{})]})})),R=t(45697),Z=["/","/home","/faq"],L=function(e){var n=e.children,t=e.token,r=(0,f.useRouter)();return(0,i.useEffect)((function(){if((void 0===t||null===t||0===t.length)&&-1===Z.indexOf(r.route))return r.push("/home")}),[]),n};L.propTypes={children:t.n(R)().node};var B=(0,a.$j)((function(e){return{token:e.user.token}}),null)(L);function M(e){e.variant;var n=e.children;return(0,r.jsx)(B,{children:(0,r.jsx)(U,{children:n})})}},24620:function(e,n,t){t.d(n,{pH:function(){return a},a$:function(){return s},n3:function(){return c},$o:function(){return l},kS:function(){return o}});var r=t(39258),i=t(83404);function a(e,n){return function(t){return(0,i.Z)("auth/user/login","post",e).then((function(e){t({type:r.mA}),t({type:r.wW,payload:e}),localStorage.setItem("userInfo",JSON.stringify(e)),n(e)})).catch((function(e){console.log(e)}))}}function s(e,n){return function(t){return(0,i.Z)("auth/user/register","post",e).then((function(e){t({type:r.k1}),t({type:r.hk,payload:e}),n(e)}))}}function c(){return function(e){return(0,i.Z)("base/categories","get").then((function(n){e({type:r.qe}),e({type:r.hH,payload:n})}))}}function l(e,n){return function(t){return(0,i.Z)("auth/user/lostpassword","post",e).then((function(e){t({type:r.vP}),t({type:r.ZH,payload:e}),localStorage.setItem("userInfo",JSON.stringify(e)),n(e)}))}}var o=function(e){return function(n){n({type:r.Nv}),e()}}},83404:function(e,n,t){t.d(n,{Z:function(){return h}});var r=t(28520),i=t.n(r),a=t(9669),s=t.n(a),c="192.168.116.126",l="8080",o="/api/v1";function u(e,n,t,r,i,a,s){try{var c=e[a](s),l=c.value}catch(o){return void t(o)}c.done?n(l):Promise.resolve(l).then(r,i)}function d(e){return function(){var n=this,t=arguments;return new Promise((function(r,i){var a=e.apply(n,t);function s(e){u(a,r,i,s,c,"next",e)}function c(e){u(a,r,i,s,c,"throw",e)}s(void 0)}))}}function h(e){return f.apply(this,arguments)}function f(){return(f=d(i().mark((function e(n,t,r){var a,u,d;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=void 0===t?"get":t,u="",u=sessionStorage.getItem("token"),d={method:a,url:"http://".concat(c,":").concat(l).concat(o,"/").concat(n),headers:{Authorization:"Bearer ".concat(u)},data:r},e.abrupt("return",new Promise((function(e,n){s()(d).then((function(n){e(n.data)})).catch((function(e){console.log(e),n(e)}))})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}}}]);